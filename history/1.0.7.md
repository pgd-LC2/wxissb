# 版本 1.0.7

## 更新日期
2026-01-22

## 更新内容

### 动态怪物数量系统（对数增长 + 战力小权重）

1. **新增动态最小怪物数量**
   - 场上怪物数量不会低于最小值，保证游戏始终有一定的挑战性
   - 使用**对数增长**，前期增长快，后期增长慢
   - 等级1: 4只，等级10: 12只，等级25: 15只
   - 计算公式：`minEnemies = 4 + 8 * log10(level)`

2. **目标怪物数量（对数增长）**
   - 使用对数增长，让等级10时就能达到约50只
   - 等级1: 6只
   - 等级10: 约 50 只
   - 等级25: 约 67 只
   - 等级100: 约 94 只
   - 计算公式：`targetEnemies = 6 + 44 * log10(level) + strength * 3`
   - 战力贡献很小（最多约5.4只）

3. **智能生成速率调节**
   - 当怪物数量低于最小值时，大幅加速生成（最多 3 倍加速）
   - 当接近目标数量时，使用平滑曲线减速生成
   - **达到目标数量时不停止，只是变得很慢**（保持 8% 速率）

4. **无最大值限制**
   - 移除了 maxEnemies 硬性上限
   - 场上怪物数量由目标值控制，达到目标后继续缓慢生成

## 技术细节

- 修改文件：`js/core/gameFactory.js`
- 影响系统：Enemy Director（怪物生成控制器）
- 相关属性：`director.minEnemies`, `director.targetEnemies`, `director.spawnRate`
- 改动原因：用户要求使用对数增长让等级10时达到50只，并且达到目标后不完全停止
