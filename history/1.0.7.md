# 版本 1.0.7

## 更新日期
2026-01-22

## 更新内容

### 动态怪物数量系统

1. **新增动态最小怪物数量**
   - 场上怪物数量不会低于最小值，保证游戏始终有一定的挑战性
   - 最小值基于玩家战力动态调整：前期约 4 只，后期随战力提升最高可达 20 只
   - 计算公式：`minEnemies = 4 + strengthScale * 6 + spawnTimeScale * 5`

2. **智能生成速率调节**
   - 当怪物数量低于最小值时，大幅加速生成（最多 3 倍加速）
   - 当接近目标数量时，使用平滑曲线减速生成
   - 减速公式使用幂函数实现平滑过渡，避免突然停止
   - 始终保持最低 15% 的生成速率，确保游戏持续有新怪物出现

3. **无最大值限制**
   - 移除了怪物数量上限，允许场上怪物数量随战力无限增长
   - 目标怪物数量随时间、等级和战力动态增加

## 技术细节

- 修改文件：`js/core/gameFactory.js`
- 影响系统：Enemy Director（怪物生成控制器）
- 相关属性：`director.minEnemies`, `director.targetEnemies`, `director.spawnRate`
