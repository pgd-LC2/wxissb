# 版本 1.0.7

## 更新日期
2026-01-22

## 更新内容

### 动态怪物数量系统（基于等级）

1. **新增动态最小怪物数量**
   - 场上怪物数量不会低于最小值，保证游戏始终有一定的挑战性
   - 最小值基于玩家**等级**动态调整（而非战力）
   - 等级1: 4只，每升2级增加1只，最高 15 只
   - 计算公式：`minEnemies = 4 + (level - 1) * 0.5`

2. **目标怪物数量**
   - 基于等级线性增长，加上时间因子
   - 等级1: 6只
   - 等级10: 约 24 只
   - 等级25: 约 52 只
   - 计算公式：`targetEnemies = 6 + (level - 1) * 1.5 + timeFactor * 10`

3. **智能生成速率调节**
   - 当怪物数量低于最小值时，大幅加速生成（最多 3 倍加速）
   - 当接近目标数量时，使用平滑曲线减速生成
   - 当达到目标数量时，完全停止生成

4. **无最大值限制**
   - 移除了 maxEnemies 硬性上限
   - 场上怪物数量由目标值控制，达到目标后停止生成

## 技术细节

- 修改文件：`js/core/gameFactory.js`
- 影响系统：Enemy Director（怪物生成控制器）
- 相关属性：`director.minEnemies`, `director.targetEnemies`, `director.spawnRate`
- 改动原因：原基于战力的计算导致开局怪物过多（战力开局就500-600），改为基于等级后更加平滑
