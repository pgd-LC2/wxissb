# 版本 1.0.5 更新日志

**发布日期**: 2026-01-21

## 修复内容

### 敌方子弹无视荆棘伤害和完美格挡反击

**问题描述**：
- 敌方子弹击中玩家时，荆棘护甲技能（thornsDamagePercent）不会反弹伤害给射击的敌人
- 敌方子弹被格挡时，完美格挡技能（perfectBlockCounter）不会对射击的敌人造成反击伤害

**修复方案**：
1. 在 `createEnemyBullet` 函数中存储源敌人引用（`sourceEnemy`）
2. 在 `updateEnemyBullets` 函数中实现荆棘伤害逻辑：受击时反弹伤害给攻击者
3. 在 `updateEnemyBullets` 函数中实现完美格挡反击逻辑：格挡成功时造成200%伤害
4. 检查敌人是否存活后再应用伤害，避免对已死亡敌人造成伤害

**修改文件**：
- `js/core/gameFactory.js`

**相关 PR**：
- https://github.com/pgd-LC2/wxissb/pull/15
